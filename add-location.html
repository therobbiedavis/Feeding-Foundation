<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Location ‚Äî Feeding Foundation</title>
    <meta name="description" content="Contribute a local food resource to the Feeding Foundation map. Generate JSON for a location, copy it, and submit using our GitHub issue template.">
    <meta name="robots" content="noindex, follow">
    <meta name="theme-color" content="#1f7f63">
    <meta property="og:title" content="Add Location ‚Äî Feeding Foundation">
    <meta property="og:description" content="Submit a new food resource location (food pantry, soup kitchen, community garden) to our database using the guided form.">
    <meta property="og:image" content="imgs/icon-min.png">
    <!-- Favicons (generate the actual files with the instructions in FAVICON_INSTRUCTIONS.md) -->
    <link rel="icon" href="imgs/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="imgs/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="imgs/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="imgs/apple-touch-icon.png">
    <link rel="mask-icon" href="imgs/icon-min.png" color="#1f7f63">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.min.css">
</head>
<body>
    <header class="site-header">
        <div class="container header-inner">
            <div class="brand">
                <a href="/">
                    <img src="imgs/icon-min.png" alt="Feeding Foundation logo" class="logo-img">
                </a>
                <div>
                    <h1 class="site-title">Feeding Foundation</h1>
                    <p class="tagline">Add a New Location</p>
                </div>
            </div>
            <nav class="header-actions">
                <a href="index.html" class="btn">‚Üê Back to Map</a>
            </nav>
        </div>
    </header>

    <section class="hero">
        <div class="container hero-inner">
            <h2>Help expand our community resources</h2>
            <p>Submit a new food resource location to connect more people with vital services in your area.</p>
        </div>
    </section>

    <main class="container" style="padding: 48px 24px; max-width: 800px;">
        <div class="form-container">
            <div style="text-align: center; margin-bottom: 40px;">
                <h2 style="margin: 0 0 12px; color: #052018; font-size: 28px; font-weight: 800; letter-spacing: -0.03em;">Add a New Food Resource</h2>
                <p style="color: var(--muted); font-size: 16px; line-height: 1.7;">Fill out the form below to contribute to our database and help your community.</p>
            </div>

            <form id="location-form">
                <!-- County removed from the form; we attempt to infer it client-side from the address -->

                <div class="form-group">
                    <label for="name">Location Name *</label>
                    <input type="text" id="name" placeholder="e.g., Community Food Pantry" required>
                </div>

                <div class="form-group">
                    <label for="type">Location Type *</label>
                    <select id="type" required>
                        <option value="">Select Type</option>
                        <option value="Little Free Pantry">Little Free Pantry</option>
                        <option value="Food Distribution">Food Distribution</option>
                        <option value="Food Pantry">Food Pantry</option>
                        <option value="Mobile Food Pantry">Mobile Food Pantry</option>
                        <option value="Food Bank">Food Bank</option>
                        <option value="Soup Kitchen">Soup Kitchen</option>
                        <option value="Community Garden">Community Garden</option>
                        <option value="Farmers Market">Farmers Market</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="address">Full Address *</label>
                    <textarea id="address" placeholder="Street address, City, State, ZIP" required></textarea>
                    <div style="margin-top:8px; font-size:13px; color:var(--muted);">We‚Äôll try to infer city, county, state, and ZIP from the address ‚Äî you can edit them below.</div>
                        <div style="margin-top:8px; display:flex; align-items:center; gap:8px;">
                            <span id="geocode-spinner" class="geocode-spinner" aria-hidden="true"></span>
                            <span id="geocode-status" style="font-size:13px; color:var(--muted);"></span>
                        </div>
                </div>

                <button type="button" id="toggle-fields-hr" class="toggle-fields-hr" aria-expanded="false" aria-controls="parsed-address-fields" title="Show additional fields" style="display:block; width:100%; border:none; background:transparent; padding:12px 0; margin-bottom:20px;">
                    <!-- inline SVG chevron for crisper rotation -->
                    <span class="chev-wrap" aria-hidden="true">
                        <svg class="chev" width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </span>
                </button>

                <!-- ARIA live region for screen-reader announcements about expanded/collapsed state -->
                <div id="parsed-fields-status" class="visually-hidden" role="status" aria-live="polite" aria-atomic="true"></div>

                <div class="form-group" id="parsed-address-fields">
                    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:12px;">
                        <div class="parsed-field" style="--delay:0.04s;">
                            <label for="city">City</label>
                            <input type="text" id="city" placeholder="City or town" disabled>
                        </div>
                        <div class="parsed-field" style="--delay:0.08s;">
                            <label for="state">State (ABBR)</label>
                            <input type="text" id="state" placeholder="State (e.g., GA)" disabled>
                        </div>
                    </div>
                    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:12px; margin-top:12px;">
                        <div class="parsed-field" style="--delay:0.12s;">
                            <label for="zip">ZIP</label>
                            <input type="text" id="zip" placeholder="ZIP or postal code" disabled>
                        </div>
                        <div class="parsed-field" style="--delay:0.16s;">
                            <label for="county">County</label>
                            <input type="text" id="county" placeholder="County (optional)" disabled>
                        </div>
                    </div>
                </div>
                <input type="hidden" id="lat">
                <input type="hidden" id="lng">

                <div class="form-group">
                    <label for="description">Description</label>
                    <textarea id="description" placeholder="Brief description of the location and what it offers"></textarea>
                </div>

                <div class="form-group">
                    <label for="schedule">Schedule/Hours</label>
                    <textarea id="schedule" placeholder="e.g., Tuesdays and Thursdays 9:30am-12pm, or 24/7 for pantries"></textarea>
                </div>

                <div class="form-group">
                    <label for="website">Website (optional)</label>
                    <input type="url" id="website" placeholder="https://example.com">
                </div>

                <div class="form-group" style="display: flex; align-items: center; gap: 12px; margin-bottom: 32px;">
                    <input type="checkbox" id="active" checked>
                    <label for="active" style="margin: 0; font-weight: 600; cursor: pointer;">Location is currently active</label>
                </div>

                <button type="submit" class="btn-submit" disabled>Submit Location</button>
            </form>

            <!-- JSON output intentionally removed (we now generate JSON internally for submission) -->

            <div class="instructions">
                <h3>üìù How to Submit Your Location</h3>
                <ol>
                    <li>Fill out the form above with accurate information about the food resource location</li>
                    <li>The <strong>"Submit Location"</strong> button will be enabled once all required fields are filled</li>
                    <li>Click <strong>"Submit Location"</strong> to open a pre-filled GitHub issue</li>
                    <li>Review the pre-filled information and add any additional context</li>
                    <li>Submit the issue for review</li>
                </ol>
                <div style="margin-top: 20px; padding: 16px; background: rgba(59,191,154,0.08); border-radius: 10px; border-left: 4px solid var(--accent-3);">
                    <p style="margin: 0; font-weight: 600; color: #052018;">‚úÖ What happens next?</p>
                    <p style="margin: 8px 0 0; line-height: 1.7;">A maintainer will review your submission to verify the location details. Once approved, the location will be added to the map and become visible to the community.</p>
                </div>
            </div>
        </div>
    </main>

    <footer class="site-footer">
        <div class="container">¬© <span id="year"></span> Feeding Foundation ‚Äî Built for community impact</div>
    </footer>

    <link rel="stylesheet" href="add-location-inline.min.css">
    <script src="add-location-inline.min.js"></script>
</body>
</html>